<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NLPL Branch Locator — Open in Google Maps</title>
  <style>
    :root {
      --bg: #0b1320;
      --card: #111a2b;
      --muted: #8aa0c2;
      --text: #e6eefc;
      --accent: #4da3ff;
      --accent-2: #00d4ff;
    }
    * { box-sizing: border-box }
    html, body { height: 100% }
    body { margin: 0; font: 14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--text) }
    header { padding: 18px 20px 10px; position: sticky; top: 0; backdrop-filter: saturate(150%) blur(6px); background: linear-gradient(180deg, rgba(11,19,32,.9), rgba(11,19,32,.6) 40%, rgba(11,19,32,0)); z-index: 5; border-bottom: 1px solid #20314f }
    h1 { margin: 0 0 6px; font-size: 18px; font-weight: 800; letter-spacing: .3px }
    .sub { color: var(--muted); font-size: 12px }
    .wrap { max-width: 1100px; margin: 0 auto }

    .controls { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; margin: 12px 0 2px }
    input[type="search"] { width: 100%; padding: 12px 12px; border-radius: 12px; background: var(--card); border: 1px solid #22314f; color: var(--text) }
    button, .btn { padding: 10px 12px; border-radius: 12px; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #05111f; border: none; font-weight: 700; cursor: pointer; text-decoration: none }
    button.ghost { background: #16233c; color: var(--text); border: 1px solid #22314f }
    button:active { transform: translateY(1px) }

    .card { background: var(--card); border: 1px solid #22314f; border-radius: 16px; padding: 10px; margin: 12px 20px; overflow: hidden }
    .meta { color: var(--muted); font-size: 12px; padding: 0 2px 8px 2px }
    table { width: 100%; border-collapse: collapse }
    thead th { text-align: left; font-size: 12px; color: var(--muted); font-weight: 700; letter-spacing: .3px; border-bottom: 1px solid #23314d; padding: 10px }
    tbody td { padding: 12px 10px; border-bottom: 1px dashed #20304d; vertical-align: middle }
    tbody tr:hover { background: #0e1a31 }
    .num { width: 52px; color: var(--muted) }
    .name { min-width: 280px; font-weight: 600 }
    .coords { font-variant-numeric: tabular-nums; color: #c8e1ff }
    .actions { white-space: nowrap }
    .badge { display: inline-block; font-size: 11px; padding: 3px 8px; border-radius: 999px; background: #122747; color: var(--muted); border: 1px solid #24365a }

    @media (max-width: 720px) {
      .controls { grid-template-columns: 1fr; gap: 8px }
      .actions .btn { display: inline-block; margin-top: 8px }
      .name { min-width: auto }
      tbody td { padding: 10px 8px }
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>NLPL Branch Locator</h1>
      <div class="sub">Click a branch or its coordinates to open the pin in <span class="badge">Google Maps</span>. Coordinates shown as <strong>(Lat, Long)</strong>. Use the search to filter.</div>
      <div class="controls">
        <input id="search" type="search" placeholder="Search branch… (e.g., KOLAR, HUBLI, SEDAM)" />
        <button class="ghost" id="clearBtn" title="Clear search">Clear</button>
        <button id="copyBtn" title="Copy all rows as CSV">Export CSV</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <div class="meta"><span id="count"></span> branches loaded.</div>
      <div style="overflow:auto">
        <table id="tbl">
          <thead>
            <tr>
              <th class="num">#</th>
              <th>Branch</th>
              <th>Coordinates (Lat, Long)</th>
              <th class="actions">Open</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </main>

  <script>
    // ===== Raw pasted data from user =====
    const RAW = `NLPL AFZALPUR BRANCH\t17.1997779,76.3536049
NLPL AJJAMPURA BRANCH\t13.726274, 76.008817
NLPL ALAND BRANCH\t17.56226002198624, 76.56776810223826
NLPL ALMEL BRANCH\t17.0941269,76.2197611
NLPL ATHANI BRANCH\t16.731664605042315, 75.06067059367254
NLPL AURAD BRANCH\t18.250104513120924, 77.42520775345791
NLPL BADAMI BRANCH\t15.926857056660136, 75.67826208217068
NLPL BAGALKOT BRANCH\t16.1768599,75.6597316
NLPL BAGEPALLI BRANCH\t13.7852289,77.7795089
NLPL BAILHONGAL BRANCH\t15.807628477438666, 74.8463467247143
NLPL BALLARI BRANCH\t15.161332744384001, 76.89705008937929
NLPL BANGARPET BRANCH\t13.0123635,78.1717471
NLPL BASAVAKALYAN BRANCH\t17.861923, 76.949958
NLPL BELAGAVI BRANCH\t15.88406656045591, 74.51021291122528
NLPL BETHAMANGALA BRANCH\t13.1542039,78.3894376
NLPL BHALKI BRANCH\t18.05057776924593, 77.2234186532665
NLPL BIDAR BRANCH\t17.889206646555838, 77.51499379978596
NLPL BIDAR-2 BRANCH\t17.932449990450877, 77.4836578108111
NLPL BILAGI BRANCH\t16.34086241329985, 75.63383153331466
NLPL BUDWAL BRANCH\t14.7395228,79.061661
NLPL CHADCHAN BRANCH\t17.3110572,75.6606753
NLPL CHALLAKERE BRANCH\t14.30718700601603, 76.63572666930843
NLPL CHANDAPURA BRANCH\t12.788410642428197, 77.70438873002904
NLPL CHANNAGIRI BRANCH\t14.0259139,75.9248238
NLPL CHIKBALLAPURA BRANCH\t13.432843, 77.731872
NLPL CHIKKAMAGALURU BRANCH\t13.335988101791475, 75.79655929444841
NLPL CHIKKANAYAKANAHALLI BRANCH\t13.4096649,76.6179462
NLPL CHIKKODI BRANCH\t16.428683671314783, 74.58353865261896
NLPL CHINCHOLI BRANCH\t17.455058,77.4212892
NLPL CHINTAMANI BRANCH\t13.39054,78.047506
NLPL CHITRADURGA BRANCH\t14.235082884732288, 76.41107322883644
NLPL DABUSPET BRANCH\t13.229274926515624, 77.23989524232711
NLPL DAVANAGERE BRANCH\t14.4437731,75.9283368
NLPL DEVADURGA BRANCH\t16.417179,76.9269371
NLPL DEVANAHALLI BRANCH\t13.256782,77.7228719
NLPL DHARMAVARAM BRANCH\t14.404071, 77.709700
NLPL DHARWAD BRANCH\t15.463167930693144, 74.98723517463061
NLPL DODDABALLAPURA BRANCH\t13.308838188553954, 77.54578215535943
NLPL GADAG BRANCH\t15.4317304,75.6421109
NLPL GADWAL BRANCH\t16°14'13.8"N 77°48'21.2"E
NLPL GAJENDRAGAD BRANCH\t15.733954554022079, 75.96230023558951
NLPL GANGAVATHI BRANCH\t15.4286741,76.5243031
NLPL GOKAK BRANCH\t16.163545548331417, 74.81062445399157
NLPL GOWRIBIDANUR BRANCH\t13.617101, 77.518174
NLPL GUBBI BRANCH\t13.3074653,76.9452
NLPL HAGARIBOMMANAHALLI BRANCH\t15.0439943,76.203002
NLPL HARAPANAHALLI BRANCH\t14.782967847998629, 75.9939722000005
NLPL HARIHARA BRANCH\t14.4978145,75.8062615
NLPL HEBBAL BRANCH\t13.046004194735188, 77.54776963254638
NLPL HIRIYUR BRANCH\t13.95323734452114, 76.61266874636014
NLPL HOLAKERE BRANCH\t14.0429936,76.1806632
NLPL HONNALI BRANCH\t14.2355796,75.6463012
NLPL HOSADURGA BRANCH\t13.799741, 76.281405
NLPL HOSPET BRANCH\t15.2664487,76.3729922
NLPL HUBLI BRANCH\t15.343333513840527, 75.11632851618188
NLPL HUBLI-2 BRANCH\t15.3921872048847, 75.08086284161423
NLPL HULIYAR BRANCH\t13.5831178,76.5402221
NLPL HULSOOR BRANCH\t18.018590539861165, 77.0050410423271
NLPL HUMNABAD BRANCH\t17.773303, 77.121126
NLPL HUNGUND BRANCH\t16.057482, 75.939514
NLPL HUVENAHADAGALLI BRANCH\t15.0158027,75.9290902
NLPL INDI BRANCH\t17.1798611,75.9575278
NLPL J P NAGAR BRANCH\t12.880862007333317, 77.56768996348002
NLPL JAGALORE BRANCH\t14.520170106529038, 76.33701459131429
NLPL JAMAKHANDI BRANCH\t16.51190913931777, 75.26428326276755
NLPL JEVARGI BRANCH\t17.0088518,76.7741078
NLPL KADAPA BRANCH\t14.467822,78.8533828
NLPL KADIRI BRANCH\t14.095472, 78.163972
NLPL KADUR BRANCH\t13.548971091968893, 76.01678616749366
NLPL KALAGI BRANCH\t17.3597566,77.1546186
NLPL KALBURGI 1 & 2 BRANCH\t17.3364636,76.8590702
NLPL KALGHATGI BRANCH\t15.180905126494222, 74.97586369912399
NLPL KAMALAPURA BRANCH\t17.5869591,76.9881501
NLPL KENGERI BRANCH\t12.963328417190176, 77.4765347839842
NLPL KHANAHOSAHALLI BRANCH\t14.648576242485095, 76.46650487115161
NLPL KITTUR BRANCH\t15.595249735117445, 74.78107102638802
NLPL KODANGAL BRANCH\t17.3349939,77.9050743
NLPL KOLAR BRANCH\t13.1230352,78.1272801
NLPL KOPPAL BRANCH\t15.3576302,76.1456525
NLPL KORATAGERE BRANCH\t13.5200295,77.2354506
NLPL KOTTURU BRANCH\t14.82214113977693, 76.21756632885065
NLPL KUDATHINI BRANCH\t15.197449704401095, 76.76034836878908
NLPL KUDLIGI BRANCH\t14.903867321976593, 76.39074365924527
NLPL KUNIGAL BRANCH\t13.0281964,77.0372279
NLPL KUSHTAGI BRANCH\t15.7491399,76.19217
NLPL LAXMESHWAR BRANCH\t15.1281544,75.4723542
NLPL LINGSUGUR BRANCH\t16.1574064,76.5221158
NLPL LOKAPUR BRANCH\t16.160192740478404, 75.3730606968417
NLPL MADHUGIRI BRANCH\t13.6611445,77.2167198
NLPL MAHABUB NAGAR BRANCH\t16.7276137,77.984084
NLPL MALUR BRANCH\t12.9994716,77.9378283
NLPL MANVI BRANCH\t15.9995322,77.0478732
NLPL MARIKAL BRANCH\t16.601622, 77.719875
NLPL MUDALAGI BRANCH\t16.34058606256304, 74.96868188990965
NLPL MUDDEBIHAL BRANCH\t16.5754961,75.9737627
NLPL MUDIGERE BRANCH\t13.139689314519405, 75.64357546219954
NLPL MUNDARAGI BRANCH\t15.2045,75.8858611
NLPL NARAGUNDA BRANCH\t15.719347137547135, 75.38436777559099
NLPL NARAYANKHED BRANCH\t18.0381237,77.7899481
NLPL NIPPANI BRANCH\t16.40596433525752, 74.37724545398395
NLPL NR PURA BRANCH\t13.606910303836482, 75.50203319793275
NLPL PANCHANHALLI BRANCH\t13.548023, 76.334716
NLPL RAICHUR BRANCH\t16.2134945,77.3290222
NLPL RAMDURGA BRANCH\t15.949960000253625, 75.29228137301867
NLPL SANDURU BRANCH\t15.090327, 76.548987
NLPL SANGAREDDY BRANCH\t17.593815, 78.071960
NLPL SANTHEBENNURU BRANCH\t14.1687778,76.003
NLPL SEDAM BRANCH\t17.1727473,77.2834414
NLPL SHAHAPUR BRANCH\t16.6874351,76.8483552
NLPL SINDAGI BRANCH\t16.9140642,76.2301392
NLPL SINDHNUR BRANCH\t15.7556867,76.7536364
NLPL SIRA BRANCH\t13.7435876,76.90224
NLPL SIRUGUPPA BRANCH\t15.6284649,76.8925182
NLPL SIRWAR BRANCH\t16.174138,77.0231164
NLPL SRINIVASPURA BRANCH\t13.3439404,78.2139166
NLPL TALIKOTI BRANCH\t16.4849816,76.3065931
NLPL TANDUR BRANCH\t17.261997, 77.596153
NLPL TARIKERE BRANCH\t13.697152311432712, 75.82197494005081
NLPL TIKOTA BRANCH\t16.8410784,75.5215685
NLPL TIPTUR BRANCH\t13.2580006,76.4506201
NLPL TUMKUR BRANCH\t13.3157854,77.1212647
NLPL TUREVEKERE BRANCH\t13.1668995,76.6662337
NLPL VIJAYAPUR BRANCH\t16.8308997,75.7008777
NLPL YADGIR BRANCH\t16.7649523,77.1526902
NLPL YARAGATTI BRANCH\t15.967944022715036, 75.02098953820831
NLPL ZAHEERABAD BRANCH\t17.691302, 77.639235`;

    // ===== Helpers =====
    const d = (v, p=6) => Number(v).toFixed(p);
    const gmUrl = (lat, lon) => `https://www.google.com/maps?q=${lat},${lon}`;

    function parseDMS(dmsStr) {
      // expects: 16°14'13.8"N 77°48'21.2"E
      const re = /(\d+)°(\d+)'([\d.]+)"([NS])\s+(\d+)°(\d+)'([\d.]+)"([EW])/;
      const m = dmsStr.match(re);
      if (!m) return null;
      const [_, d1, m1, s1, h1, d2, m2, s2, h2] = m;
      const lat = (Number(d1) + Number(m1)/60 + Number(s1)/3600) * (h1 === 'S' ? -1 : 1);
      const lon = (Number(d2) + Number(m2)/60 + Number(s2)/3600) * (h2 === 'W' ? -1 : 1);
      return { lat, lon };
    }

    function parseRaw(raw) {
      return raw.split(/\n+/)
        .map(line => line.trim())
        .filter(Boolean)
        .map(line => {
          // DMS case
          if (line.includes('°')) {
            const m = line.match(/^(.*?)\s*(\d+°\d+'[\d.]+"[NS]\s+\d+°\d+'[\d.]+"[EW])/);
            if (m) {
              const name = m[1].trim();
              const coords = parseDMS(m[2]);
              if (coords) return { name, lat: coords.lat, lon: coords.lon };
            }
          }
          // Decimal case
          const m2 = line.match(/^(.*?)([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)/);
          if (m2) {
            const name = m2[1].trim().replace(/\s+$/,'');
            const lat = Number(m2[2]);
            const lon = Number(m2[3]);
            return { name, lat, lon };
          }
          return null;
        })
        .filter(Boolean);
    }

    const rows = parseRaw(RAW);
    const tbody = document.querySelector('#tbl tbody');
    const countEl = document.getElementById('count');

    function render(filter = '') {
      tbody.innerHTML = '';
      let i = 0;
      rows
        .filter(r => r.name.toLowerCase().includes(filter.toLowerCase()))
        .forEach((r, idx) => {
          const tr = document.createElement('tr');
          const n = document.createElement('td'); n.className = 'num'; n.textContent = (++i).toString();
          const name = document.createElement('td'); name.className = 'name';
          const aName = document.createElement('a'); aName.href = gmUrl(r.lat, r.lon); aName.target = '_blank'; aName.rel = 'noopener'; aName.textContent = r.name; aName.style.color = '#bfe1ff'; aName.style.textDecoration = 'none';
          name.appendChild(aName);

          const coords = document.createElement('td'); coords.className = 'coords';
          const aCoords = document.createElement('a'); aCoords.href = gmUrl(r.lat, r.lon); aCoords.target = '_blank'; aCoords.rel = 'noopener'; aCoords.textContent = `(${d(r.lat)}, ${d(r.lon)})`;
          coords.appendChild(aCoords);

          const actions = document.createElement('td'); actions.className = 'actions';
          const btn = document.createElement('a'); btn.className = 'btn'; btn.href = gmUrl(r.lat, r.lon); btn.target = '_blank'; btn.rel = 'noopener'; btn.textContent = 'Open in Maps';
          actions.appendChild(btn);

          tr.append(n, name, coords, actions);
          tbody.appendChild(tr);
        });
      countEl.textContent = `${rows.length}`;
    }

    // Search + controls
    const search = document.getElementById('search');
    const clearBtn = document.getElementById('clearBtn');
    const copyBtn = document.getElementById('copyBtn');

    search.addEventListener('input', () => render(search.value));
    clearBtn.addEventListener('click', () => { search.value = ''; render(''); });

    copyBtn.addEventListener('click', () => {
      const visible = Array.from(document.querySelectorAll('#tbl tbody tr')).map(tr => {
        const name = tr.children[1].innerText.trim();
        const coordTxt = tr.children[2].innerText.replace(/[()]/g,'').trim();
        return `${name},${coordTxt}`;
      }).join('\n');
      navigator.clipboard.writeText(visible).then(() => {
        copyBtn.textContent = 'Copied!';
        setTimeout(()=> copyBtn.textContent = 'Export CSV', 1200);
      });
    });

    // Initial render
    render('');
  </script>
</body>
</html>
